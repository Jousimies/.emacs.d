\documentclass[10pt]{article}
\usepackage[margin=0.5cm,landscape,a3paper]{geometry}
\pagestyle{empty}

\usepackage{textcomp}
\usepackage{multicol}
\usepackage{menukeys}
\usepackage{enumitem}
\usepackage{xcolor}
\usepackage{xpatch}
\usepackage{xparse}
\usepackage{calc}
\usepackage{tcolorbox}

\definecolor{default}{HTML}{333333}
\definecolor{heading}{HTML}{000000}
\definecolor{command}{HTML}{666666}
\definecolor{key}{HTML}{268BD2}

\renewcommand\section[1]{\bigskip\par\textbf{\color{heading}\large#1}\smallskip}
\renewcommand\subsection[1]{\smallskip\par\textbf{\color{heading}#1}}
\renewcommand\subsubsection[1]{\smallskip\par\textbf{\color{heading}\small#1}}
\newcommand\humanreadable[1]{{\par\color{default}\small\sffamily#1}}
\newcommand\meta[1]{\textlangle\textit{#1}\textrangle}
\newcommand\keyify[1]{\color{key}\ttfamily#1}
\newlist{keylist}{description}{1}
\setlist[keylist]{
  topsep      = 1pt,
  labelindent = 1pt,
  itemsep     = -1ex,
  labelwidth  = \widthof{xxxxxxxxxxxxxx},
  font        = \keyify,
  leftmargin  = !,
  before      = \color{command}\sffamily
}

\setlength\parindent{0em}
\setlength\parsep{0ex}
\renewcommand\baselinestretch{1.2}

\begin{document}
\author{Jousimies}
\begin{multicols}{4}

  \setlength{\columnsep}{1cm}
  \begin{center}
    \LARGE\color{heading}\textbf{My Emacs Cheat Sheet}
  \end{center}

  \section{Getting Help in Emacs}
  \begin{keylist}
    \item[C-h k \meta{key}] \humanreadable{describe function bound to \meta{key}}
    \item[C-h b] \humanreadable{list key-bindings for focused buffer}
    \item[C-h m] \humanreadable{describe mode}
    \item[C-h l] \humanreadable{show the keys you have pressed}
    \item[C-h f] \humanreadable{describe function}
  \end{keylist}

  \section{Global keymap}
  \begin{keylist}
    \item[C-x u] vundo
    \item[C-x o] ace-window
    \item[M-\#] dictionary-lookup-definition
    \item[M-*] tempel-insert
    \item[M-+] tempel-complete
    \item[M-n] my/scroll-other-windown
    \item[M-p] my/scroll-other-windown-down
    \item[C-.] embark-act
    \item[C-;] embark-dwim
    \item[f1] calibredb
    \item[f2] ebib
    \item[f7] my/copy-idlink
    \item[f8] my/link-grab
    \item[f9] ekg-capture
    \item[C-f9] ekg-capture-url
    \item[f10] my/org-capture
    \item[f12] my/org-agenda
    \item[s-n] my/make-or-delete-frame
    \item[s-\~] other-frame
    \item[s-/] evil-commentary-line
    \item[C-x C-d] consult-dir
  \end{keylist}
  \section{Local keymaps}
  \subsection{vertico-map}
  \begin{keylist}
    \item[C-j] vertico-next
    \item[C-k] vertico-previous
    \item[C-u] vertico-directory-up
    \item[C-c C-o] embark-export
    \item[C-c C-c] embark-act
  \end{keylist}
  \subsection{minibuffer-local-map}
  \begin{keylist}
    \item[C-r] consult-history
    \item[C-x C-d] consult-dir
    \item[C-x C-j] consult-dir-jump-file
  \end{keylist}
  \subsection{evil-insert-state-map}
  \begin{keylist}
    \item[C-e] move-end-of-line
    \item[C-k] kill-line
  \end{keylist}
  \subsection{with-editor-mode-map}
  \begin{keylist}
    \item[RET] C-c C-c
  \end{keylist}

  \subsection{dired-mode-map}
  \begin{keylist}
    \item[s-.] dired-hide-dotfiles-mode
    \item[e] xah-show-in-desktop
    \item[C-'] my/org-attach-visit-headline-from-dired
  \end{keylist}


  \subsection{rime-mode-map}
  \begin{keylist}
    \item[M-j] rime-force-enable
  \end{keylist}

  \subsection{evil-visual-state-map}
  \begin{keylist}
    \item[v] er/expand-region
  \end{keylist}
  \subsection{symbol-overlay-mode-map}
  \begin{keylist}
    \item[M-i] symbol-overlay-put
    \item[M-I] symbol-overlay-remove-all
    \item[M-n] symbol-overlay-jump-next
    \item[M-p] symbol-overlay-jump-prev
    \item[s-r] symbol-overlay-renameput
  \end{keylist}

  \subsection{outline-minor-mode-map}
  \begin{keylist}
    \item[C-<tab>] bicycle-cycle
    \item[S-<tab>] bicycle-cycle-global
  \end{keylist}

  \subsection{flyspell-mode-map}
  \begin{keylist}
    \item[C-;] flyspell-correct-wrapper
  \end{keylist}

  \subsection{org-mode-map}
  \begin{keylist}
    \item[C-c l] org-store-link
    \item[C-c C-x @] citar-insert-citation
    \item[RET] org-return
    \item[z w] olivetti-mode
  \end{keylist}

  \subsection{calibredb-search-mode-map}
  \begin{keylist}
    \item[C-c l] calibredb-copy-as-org-link
  \end{keylist}

  \subsection{mu4e-headers-mode-map}
  \begin{keylist}
    \item[C-c l] org-store-link
  \end{keylist}

  \subsection{org-agenda-mode-map}
  \begin{keylist}
    \item[C-j] org-agenda-next-line
    \item[C-k] org-agenda-previous-line
  \end{keylist}

  \subsection{beacount-mode-map}
  \begin{keylist}
    \item[z f] beancount-fava
  \end{keylist}


  \section{Space leader keys}
  \subsection{Emacs Server}
  \begin{keylist}
    \item[C-c q r] restart-emacs
    \end{keylist}

  \subsection{Buffer}
  \begin{keylist}
    \item[SPC b k] kill-this-buffer
    \item[SPC b s] switch-to-scratch
    \item[SPC b m] switch-to-message
  \end{keylist}

  \subsection{File related}
  \begin{keylist}
    \item[e] xah-show-in-desktop
    \item[SPC f b] my/reading-record
    \item[SPC f e] my/rss-source
    \item[SPC f i] my/inbox-file
    \item[SPC f p] my/plan-file
    \item[SPC f r] my/reflection-file
    \item[SPC f g] my/gtd-file
  \end{keylist}

  \subsection{Misc}
  \begin{keylist}
    \item[SPC m d] disk-usage
    \item[SPC m h] my/pdf-extract-highlight
    \item[SPC m i] file-info-show
    \item[SPC m j] mac-launchpad
    \item[SPC m o] my/ocr
    \item[SPC m p] toggle-proxy
    \item[SPC m s] achive
    \item[SPC m y] yt-set-time
  \end{keylist}

  \subsection{Org-mode}
  \begin{keylist}
    \item[SPC d c] org-download-clipboard
    \item[SPC d y] org-download-yank
    \item[SPC d r] org-download-rename-last-file
    \item[SPC d R] org-download-rename-at-point
    \item[SPC p m] plantuml-org-to-mindmap-open
    \item[SPC p s] plantuml-org-to-wbs-open
    \item[g n t a] org-transclusion-add
    \item[g n t A] org-transclusion-add-all
    \item[g n t r] org-transclusion-remove
    \item[g n t R] org-transclusion-remove-all
    \item[g n t g] org-transclusion-refresh
    \item[g n t m] org-transclusion-make-from-link
    \item[g n t o] org-transclusion-open-source
    \item[g n t e] org-transclusion-live-sync-start
    \item[SPC p a] math-preview-all
    \item[SPC p A] math-preview-clear-all
    \item[SPC p p] math-preview-at-point
    \item[SPC p r] math-preview-region
    \item[SPC p R] math-preview-clear-region
  \end{keylist}

  \section{g prefix}
  \subsection{ekg}
  \begin{keylist}
    \item[g e e] ekg-show-notes-with-tag
    \item[g e d] ekg-show-notes-for-today
    \item[g e A] ekg-show-notes-with-all-tag
    \item[g e a] ekg-show-notes-with-any-tag
    \item[g e b] ekg-browse-url
    \item[g e r] ekg-rename-tag
  \end{keylist}
  \subsection{denote}
  \begin{keylist}
    \item[g n a] my/new-article
    \item[g n n] consult-notes
    \item[g n s] my/denote-signature-or-subdirectory
    \item[g n l] denote-link-or-create
    \item[g n r] denote-rename-file-using-front-matter
  \end{keylist}

  \subsection{Language}
  \begin{keylist}
    \item[g l d] osx-dictionary-search-pointer
    \item[g l l] my/gts-do-translate
    \item[g l L] lingva-translate
    \item[g l k] dictionary-overlay-mark-word-unknown
    \item[g l K] dictionary-overlay-mark-word-known
    \item[g l i] sdcv-search-input+
    \item[g l p] sdcv-search-pointer
    \item[g l t] powerthesaurus-lookup-dwim
    \item[g l r] dictionary-overlay-render-buffer
  \end{keylist}
  \subsection{Links}
  \begin{keylist}
    \item[g x] browse-url-at-point
    \item[g X] jf/org-link-remove-link
  \end{keylist}
\end{multicols}
\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End: