\documentclass[10pt]{article}
\usepackage[margin=0.5cm,landscape,a3paper]{geometry}
\pagestyle{empty}

\usepackage{textcomp}
\usepackage{multicol}
\usepackage{menukeys}
\usepackage{enumitem}
\usepackage{xcolor}
\usepackage{xpatch}
\usepackage{xparse}
\usepackage{calc}
\usepackage{tcolorbox}

\definecolor{default}{HTML}{333333}
\definecolor{heading}{HTML}{000000}
\definecolor{command}{HTML}{666666}
\definecolor{key}{HTML}{268BD2}

\renewcommand\section[1]{\bigskip\par\textbf{\color{heading}\large#1}\smallskip}
\renewcommand\subsection[1]{\smallskip\par\textbf{\color{heading}#1}}
\renewcommand\subsubsection[1]{\smallskip\par\textbf{\color{heading}\small#1}}
\newcommand\humanreadable[1]{{\par\color{default}\small\sffamily#1}}
\newcommand\meta[1]{\textlangle\textit{#1}\textrangle}
\newcommand\keyify[1]{\color{key}\ttfamily#1}
\newlist{keylist}{description}{1}
\setlist[keylist]{
  topsep      = 1pt,
  labelindent = 1pt,
  itemsep     = -1ex,
  labelwidth  = \widthof{xxxxxxxxxxxxxx},
  font        = \keyify,
  leftmargin  = !,
  before      = \color{command}\sffamily
}

\setlength\parindent{0em}
\setlength\parsep{0ex}
\renewcommand\baselinestretch{1.2}

\begin{document}
\author{Jousimies}
\begin{multicols}{4}

  \setlength{\columnsep}{1cm}
  \begin{center}
    \LARGE\color{heading}\textbf{My Emacs Cheat Sheet}
  \end{center}

  \section{Getting Help in Emacs}
  \begin{keylist}
    \item[C-h k \meta{key}] \humanreadable{describe function bound to \meta{key}}
    \item[C-h b] \humanreadable{list key-bindings for focused buffer}
    \item[C-h m] \humanreadable{describe mode}
    \item[C-h l] \humanreadable{show the keys you have pressed}
    \item[C-h f] \humanreadable{describe function}
    \item[C-h n] \humanreadable{View Emacs news}
  \end{keylist}

  \section{Global keymap}

  \subsection{Buffers}
  \begin{keylist}
    \item[C-x b] consult-buffer
    \item[C-x C-b] ibuffer
    \item[C-c b s] switch-to-scratch
    \item[C-c b m] switch-to-message
    \item[gs] tab-switch
    \item[gb] tabspaces-switch-to-buffer
  \end{keylist}

  \subsection{Files}
  \begin{keylist}
    \item[C-c f r] recentf-open-files
    \item[C-x r j] jump-to-register
    \item[gf] find-file-at-point
    \item[gF] evil-find-file-at-point-with-line
  \end{keylist}

  \subsection{Denote and roam}
  \begin{keylist}
    \item[C-c n n] consult-notes
    \item[C-c n a] my/new-article
    \item[C-c n b] my/denote-book
    \item[C-c n s] denote-signature
    \item[C-c n m] my/new-meeting
    \item[C-c n o] my/denote-outline
    \item[C-c n t] my/denote-term
    \item[C-c n r] citar-create-note
    \item[C-c r f] org-roam-node-find
    \item[C-c r i] org-roam-node-insert
  \end{keylist}

  \subsection{Other}
  \begin{keylist}
    \item[C-x o] other-window
    \item[M-\#] dictionary-lookup-definition
    \item[M-*] tempel-insert
    \item[M-+] tempel-complete
    \item[M-n] my/scroll-other-windown
    \item[M-p] my/scroll-other-windown-down

    \item[f1] calibredb
    \item[f2] ebib

    \item[f10] org-capture
    \item[C-f10] ekg-capture
    \item[M-f10] ekg-capture-url

    \item[f12] org-gtd-engage
    \item[C-f12] org-gtd-process-inbox
    \item[s-f12] org-gtd-show-stuck-projects
    \item[M-f12] pomm

    \item[s-z] vundo
    \item[s-k] kill-current-buffer
    \item[s-n] my/make-or-delete-frame
    \item[s-\~] other-frame
    \item[s-/] evil-commentary-line

    \item[M-g d] consult-dir
    \item[M-g b] browse-at-remote
    \item[M-g h] httpd-serve-directory
    \item[C-;] embark-act
    \item[M-.] embark-dwim
  \end{keylist}

  \section{Local keymaps}
  \subsection{vertico-map}
  \begin{keylist}
    \item[C-j] vertico-next
    \item[C-k] vertico-previous
    \item[C-u] vertico-directory-up
  \end{keylist}
  \subsection{minibuffer-local-map}
  \begin{keylist}
    \item[C-;] embark-act
    \item[C-c C-;] embark-export
    \item[C-c C-l] embark-collect

    \item[C-r] consult-history
  \end{keylist}

  \subsection{dired-mode-map}
  \begin{keylist}
    \item[s-.] dired-omit-mode
    \item[e] xah-show-in-desktop
    \item[C-'] my/org-attach-visit-headline-from-dired
    \end{keylist}

  \subsection{evil-visual-state-map}
  \begin{keylist}
    \item[v] er/expand-region
  \end{keylist}

  \subsection{flyspell-mode-map}
  \begin{keylist}
    \item[C-;] flyspell-correct-wrapper
  \end{keylist}

  \subsection{org-mode-map}
  \begin{keylist}
    \item[C-c l] org-store-link
    \item[C-c C-x @] citar-insert-citation
    \item[zw] olivetti-mode
  \end{keylist}

  \subsection{calibredb-search-mode-map}
  \begin{keylist}
    \item[C-c l] calibredb-copy-as-org-link
  \end{keylist}

  \subsection{mu4e-headers-mode-map}
  \begin{keylist}
    \item[C-c l] org-store-link
  \end{keylist}

  \subsection{org-agenda-mode-map}
  \begin{keylist}
    \item[C-j] org-agenda-next-line
    \item[C-k] org-agenda-previous-line
  \end{keylist}

  \subsection{beacount-mode-map}
  \begin{keylist}
    \item[z f] beancount-fava
  \end{keylist}


  \section{g prefix}
  \subsection{Language}
  \begin{keylist}
    \item[g l d] osx-dictionary-search-pointer
    \item[gll \& C-u gll] my/gts-do-translate
    \item[g l L] lingva-translate
    \item[g l P] sdcv-search-pointer
    \item[g l p] sdcv-search-pointer+
    \item[g l t] powerthesaurus-lookup-dwim
    \item[g l r] dictionary-overlay-render-buffer
    \item[g l k] dictionary-overlay-mark-word-unknown
    \item[g l K] dictionary-overlay-mark-word-known
  \end{keylist}
  \subsection{Links}
  \begin{keylist}
    \item[g x] browse-url-at-point
    \item[g X] jf/org-link-remove-link
  \end{keylist}
\end{multicols}
\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
